import{eJ as w,dQ as y,eW as W,eX as ge,eY as je,d0 as e,dV as Z,eZ as Ee,e_ as M,dT as Q,e$ as Ne,dX as U,f0 as Te,f1 as be,d7 as J,ed as O,ef as L,eg as H,eh as V,ei as G,ej as B,ek as Y,e6 as j,c$ as C,cV as S,c_ as ee,cZ as ae,f2 as _e,f3 as Se,f4 as Re,f5 as Ce,f6 as we,f7 as z,d2 as De,e5 as Ie,ee as Fe}from"./index-C2xHxvSk.js";import{u as Pe,p as te,a as Ae,r as re,b as ke,B as k,i as se,P as Me}from"./badge-Mw9uPq09.js";import{L as g,I as N}from"./label-SFmgSblk.js";import{p as I}from"./parseEther-BFy74666.js";import{E as Oe,a as Le,b as He,F as Ve,c as Ge,d as Be,e as Ye}from"./empty-BoVE9_UM.js";import"./card-Dc43BtTL.js";const qe=[["path",{d:"M12 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5",key:"x6cv4u"}],["path",{d:"m16 19 3 3 3-3",key:"1ibux0"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M6 12h.01",key:"c2rlol"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$e=w("banknote-arrow-down",qe);const ze=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ue=w("circle",ze);const Xe=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],Qe=w("code-xml",Xe);const Ke=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],We=w("file-plus",Ke);const Ze=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],Je=w("fuel",Ze);const ea=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],aa=w("funnel",ea);function ta(t){const a=y.useRef({value:t,previous:t});return y.useMemo(()=>(a.current.value!==t&&(a.current.previous=a.current.value,a.current.value=t),a.current.previous),[t])}var K="Radio",[ra,ne]=Z(K),[sa,na]=ra(K),ie=y.forwardRef((t,a)=>{const{__scopeRadio:s,name:r,checked:i=!1,required:n,disabled:d,value:l="on",onCheck:p,form:h,...c}=t,[u,f]=y.useState(null),m=Q(a,E=>f(E)),x=y.useRef(!1),v=u?h||!!u.closest("form"):!0;return e.jsxs(sa,{scope:s,checked:i,disabled:d,children:[e.jsx(M.button,{type:"button",role:"radio","aria-checked":i,"data-state":ce(i),"data-disabled":d?"":void 0,disabled:d,value:l,...c,ref:m,onClick:U(t.onClick,E=>{i||p?.(),v&&(x.current=E.isPropagationStopped(),x.current||E.stopPropagation())})}),v&&e.jsx(de,{control:u,bubbles:!x.current,name:r,value:l,checked:i,required:n,disabled:d,form:h,style:{transform:"translateX(-100%)"}})]})});ie.displayName=K;var oe="RadioIndicator",le=y.forwardRef((t,a)=>{const{__scopeRadio:s,forceMount:r,...i}=t,n=na(oe,s);return e.jsx(Te,{present:r||n.checked,children:e.jsx(M.span,{"data-state":ce(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:a})})});le.displayName=oe;var ia="RadioBubbleInput",de=y.forwardRef(({__scopeRadio:t,control:a,checked:s,bubbles:r=!0,...i},n)=>{const d=y.useRef(null),l=Q(d,n),p=ta(s),h=be(a);return y.useEffect(()=>{const c=d.current;if(!c)return;const u=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(u,"checked").set;if(p!==s&&m){const x=new Event("click",{bubbles:r});m.call(c,s),c.dispatchEvent(x)}},[p,s,r]),e.jsx(M.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:l,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});de.displayName=ia;function ce(t){return t?"checked":"unchecked"}var oa=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],q="RadioGroup",[la]=Z(q,[W,ne]),ue=W(),pe=ne(),[da,ca]=la(q),he=y.forwardRef((t,a)=>{const{__scopeRadioGroup:s,name:r,defaultValue:i,value:n,required:d=!1,disabled:l=!1,orientation:p,dir:h,loop:c=!0,onValueChange:u,...f}=t,m=ue(s),x=ge(h),[v,E]=je({prop:n,defaultProp:i??null,onChange:u,caller:q});return e.jsx(da,{scope:s,name:r,required:d,disabled:l,value:v,onValueChange:E,children:e.jsx(Ee,{asChild:!0,...m,orientation:p,dir:x,loop:c,children:e.jsx(M.div,{role:"radiogroup","aria-required":d,"aria-orientation":p,"data-disabled":l?"":void 0,dir:x,...f,ref:a})})})});he.displayName=q;var me="RadioGroupItem",xe=y.forwardRef((t,a)=>{const{__scopeRadioGroup:s,disabled:r,...i}=t,n=ca(me,s),d=n.disabled||r,l=ue(s),p=pe(s),h=y.useRef(null),c=Q(a,h),u=n.value===i.value,f=y.useRef(!1);return y.useEffect(()=>{const m=v=>{oa.includes(v.key)&&(f.current=!0)},x=()=>f.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",x)}},[]),e.jsx(Ne,{asChild:!0,...l,focusable:!d,active:u,children:e.jsx(ie,{disabled:d,required:n.required,checked:u,...p,...i,name:n.name,ref:c,onCheck:()=>n.onValueChange(i.value),onKeyDown:U(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:U(i.onFocus,()=>{f.current&&h.current?.click()})})})});xe.displayName=me;var ua="RadioGroupIndicator",ye=y.forwardRef((t,a)=>{const{__scopeRadioGroup:s,...r}=t,i=pe(s);return e.jsx(le,{...i,...r,ref:a})});ye.displayName=ua;var pa=he,ha=xe,ma=ye;function fe({className:t,...a}){return e.jsx(pa,{"data-slot":"radio-group",className:J("grid gap-3",t),...a})}function X({className:t,...a}){return e.jsx(ha,{"data-slot":"radio-group-item",className:J("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:e.jsx(ma,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(Ue,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function xa({open:t,onOpenChange:a}){const s=Pe(),[r,i]=y.useState(""),n=Number.isNaN(Number(r))||Number(r)<=0;return e.jsx(O,{open:t,onOpenChange:a,children:e.jsxs(L,{className:"sm:max-w-[425px]",children:[e.jsxs(H,{children:[e.jsx(V,{children:"Fuel Insurance Contract"}),e.jsx(G,{children:"Enter amount of ETH to send to the insurance contract to fund it."})]}),e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"grid gap-3",children:[e.jsx(g,{htmlFor:"amount",children:"Amount (in ETH)"}),e.jsx(N,{id:"amount",value:r,onChange:d=>i(d.target.value),placeholder:"e.g., 1.5",type:"number",step:"0.01",min:"0"}),n&&r&&e.jsx("p",{className:"text-sm text-red-600",children:"Please enter a valid positive number."})]})}),e.jsxs(B,{children:[e.jsx(Y,{asChild:!0,children:e.jsx(j,{variant:"outline",children:"Cancel"})}),e.jsx(j,{disabled:n||r===""||s.isPending,onClick:()=>{a(!1),s.mutate(I(r))},children:"Confirm"})]})]})})}const ya={copyFrom:"",flightNumber:"",flightDate:"",delayThreshold:"",expirationTs:new Date(new Date().getTime()+1440*60*1e3*30),payout:"",inventory:"",price:"",open:!0},fa=(t,a)=>{switch(a.type){case"SET_COPY_FROM":return{...t,copyFrom:a.payload};case"SET_FLIGHT_NUMBER":return{...t,flightNumber:a.payload};case"SET_FLIGHT_DATE":return{...t,flightDate:a.payload};case"SET_DELAY_THRESHOLD":return{...t,delayThreshold:a.payload};case"SET_EXPIRATION_TS":return{...t,expirationTs:a.payload};case"SET_PAYOUT":return{...t,payout:a.payload};case"SET_INVENTORY":return{...t,inventory:a.payload};case"SET_PRICE":return{...t,price:a.payload};case"SET_OPEN":return{...t,open:a.payload};default:return t}};function va({open:t,onOpenChange:a}){const[s,r]=y.useReducer(fa,ya),i=C({...te(),enabled:s.copyFrom!=="",select:o=>o.policies.find(ve=>ve.id===s.copyFrom)}),{flightNumber:n,flightDate:d,delayThreshold:l,expirationTs:p,payout:h,inventory:c,price:u,open:f}=s,m=Ae(),x=n?"":"Flight number is required",v=d?"":"Flight date is required",E=l&&Number(l)>0?"":"Delay threshold must be a number greater than 0",F=p>new Date?"":"Expiration date must be in the future",P=d===""||new Date(d)<p?"":"Expiration date must be after flight date",_=F||P,D=h&&Number(h)>0?"":"Payout must be a number greater than 0",R=c&&Number(c)>0?"":"Inventory must be a number greater than 0",b=u&&Number(u)>0?"":"Price must be a number greater than 0",A=x||v||E||_||D||R||b,T=()=>{r({type:"SET_FLIGHT_NUMBER",payload:""}),r({type:"SET_FLIGHT_DATE",payload:""}),r({type:"SET_DELAY_THRESHOLD",payload:""}),r({type:"SET_EXPIRATION_TS",payload:new Date(new Date().getTime()+1440*60*1e3*30)}),r({type:"SET_PAYOUT",payload:""}),r({type:"SET_INVENTORY",payload:""}),r({type:"SET_PRICE",payload:""}),r({type:"SET_OPEN",payload:!0})},$=()=>{if(i.data){const o=i.data;r({type:"SET_FLIGHT_NUMBER",payload:o.flight.flightNumber}),r({type:"SET_FLIGHT_DATE",payload:o.flight.flightDate}),r({type:"SET_DELAY_THRESHOLD",payload:o.delayThreshold.toString()}),r({type:"SET_EXPIRATION_TS",payload:new Date(Number(o.expiration)*1e3)}),r({type:"SET_PAYOUT",payload:S(BigInt(o.payout)).toString()}),r({type:"SET_INVENTORY",payload:o.inventory.toString()}),r({type:"SET_PRICE",payload:S(BigInt(o.price)).toString()}),r({type:"SET_OPEN",payload:o.open})}};return e.jsx(O,{open:t,onOpenChange:a,children:e.jsxs(L,{className:"sm:max-w-[700px]",children:[e.jsxs(H,{children:[e.jsx(V,{children:"Create New Policy"}),e.jsx(G,{children:"Fill in the details below to create a new flight insurance policy."})]}),e.jsxs("div",{className:"grid gap-4 grid-cols-2",children:[e.jsxs("div",{className:"grid gap-3 col-span-2",children:[e.jsx(g,{htmlFor:"copyFrom",children:"Copy From Existing Policy (optional)"}),e.jsxs("div",{className:"flex space-x-2 items-center ",children:[e.jsx(N,{id:"copyFrom",name:"copyFrom",value:s.copyFrom,placeholder:"Policy ID",onChange:o=>r({type:"SET_COPY_FROM",payload:o.target.value})}),e.jsx(j,{variant:"secondary",disabled:!i.data,onClick:$,children:"Copy"})]})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(g,{htmlFor:"flightNumber",children:"Flight Number"}),e.jsx(N,{id:"flightNumber",name:"flightNumber",value:s.flightNumber,placeholder:"AA123",onChange:o=>r({type:"SET_FLIGHT_NUMBER",payload:o.target.value})}),x&&n!==""&&e.jsx("p",{className:"text-sm text-red-600",children:x})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(g,{htmlFor:"flightDate",children:"Flight Date (YYYY-MM-DD)"}),e.jsx(N,{id:"flightDate",name:"flightDate",value:s.flightDate,placeholder:"2023-12-31",onChange:o=>r({type:"SET_FLIGHT_DATE",payload:o.target.value})}),v&&d!==""&&e.jsx("p",{className:"text-sm text-red-600",children:v})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(g,{htmlFor:"payout",children:"Payout (ETH)"}),e.jsx(N,{id:"payout",name:"payout",type:"number",value:s.payout,placeholder:"0.5",onChange:o=>r({type:"SET_PAYOUT",payload:o.target.value})}),D&&h!==""&&e.jsx("p",{className:"text-sm text-red-600",children:D})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(g,{htmlFor:"price",children:"Price (ETH)"}),e.jsx(N,{id:"price",name:"price",type:"number",value:s.price,placeholder:"0.05",onChange:o=>r({type:"SET_PRICE",payload:o.target.value})}),b&&u!==""&&e.jsx("p",{className:"text-sm text-red-600",children:b})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(g,{htmlFor:"delayThreshold",children:"Delay Threshold (minutes)"}),e.jsx(N,{id:"delayThreshold",name:"delayThreshold",type:"number",value:s.delayThreshold,placeholder:"30",onChange:o=>r({type:"SET_DELAY_THRESHOLD",payload:o.target.value})}),E&&l!==""&&e.jsx("p",{className:"text-sm text-red-600",children:E})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(g,{htmlFor:"inventory",children:"Inventory (number of tokens)"}),e.jsx(N,{id:"inventory",name:"inventory",type:"number",value:s.inventory,placeholder:"100",onChange:o=>r({type:"SET_INVENTORY",payload:o.target.value})}),R&&c!==""&&e.jsx("p",{className:"text-sm text-red-600",children:R})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(g,{htmlFor:"expirationTs",children:"Expiration Date"}),e.jsx(N,{id:"expirationTs",name:"expirationTs",type:"date",value:s.expirationTs.toISOString().split("T")[0],onChange:o=>r({type:"SET_EXPIRATION_TS",payload:new Date(o.target.value)})}),_&&p.toString()!==""&&e.jsx("p",{className:"text-sm text-red-600",children:_})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(g,{htmlFor:"activated",children:"Open for Purchase"}),e.jsxs(fe,{value:f?"true":"false",onValueChange:o=>{r({type:"SET_OPEN",payload:o==="true"})},className:"flex  gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{value:"true",id:"activated-true"}),e.jsx(g,{htmlFor:"activated-true",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{value:"false",id:"activated-false"}),e.jsx(g,{htmlFor:"activated-false",children:"No"})]})]})]})]}),e.jsxs(B,{children:[e.jsx(Y,{asChild:!0,children:e.jsx(j,{variant:"outline",children:"Cancel"})}),e.jsx(j,{disabled:!!A||m.isPending,onClick:async o=>{o.preventDefault(),a(!1),await m.mutateAsync({flightNumber:n,flightDate:d,delayThreshold:BigInt(l),expirationTs:BigInt(Math.floor(p.getTime()/1e3)),payout:I(h),inventory:Number(c),price:I(u),open:f}),T()},children:"Confirm"})]})]})})}function ga({open:t,onOpenChange:a}){const s=ee(),r=ae(),i=C(se(s)),n=C(re(r)),d=ke(),[l,p]=y.useState(""),h=Number.isNaN(Number(l))||Number(l)<=0,c=i.isLoading||n.isLoading||d.isPending,u=i.isSuccess&&n.isSuccess?i.data-n.data:void 0,f=u!==void 0&&!h&&I(l)>u,m=h?"Please enter a valid positive number.":f?"Amount exceeds available withdrawable funds.":void 0,x=()=>{u!==void 0&&p(S(u))};return e.jsx(O,{open:t,onOpenChange:a,children:e.jsxs(L,{className:"sm:max-w-[425px]",children:[e.jsxs(H,{children:[e.jsx(V,{children:"Withdraw Funds"}),e.jsx(G,{children:"Enter amount of ETH to withdraw from the insurance contract."})]}),e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"grid gap-3",children:[e.jsx(g,{htmlFor:"amount",children:"Amount (in ETH)"}),e.jsx(N,{id:"amount",value:l,onChange:v=>p(v.target.value),placeholder:"e.g., 1.5",type:"number",step:"0.01",min:"0"}),u!==void 0&&e.jsxs("div",{children:[e.jsxs(k,{children:["Max: ",S(u)," ETH"]}),e.jsx(j,{variant:"link",className:"ml-2 p-0",onClick:x,children:"Use Max"})]}),m&&l&&e.jsx("p",{className:"text-sm text-red-600",children:m})]})}),e.jsxs(B,{children:[e.jsx(Y,{asChild:!0,children:e.jsx(j,{variant:"outline",children:"Cancel"})}),e.jsx(j,{disabled:m!==void 0||l===""||c,onClick:()=>{a(!1),d.mutate(I(l))},children:"Confirm"})]})]})})}function ja({dialogState:t,setDialogState:a}){return e.jsxs(e.Fragment,{children:[e.jsxs(_e,{modal:!1,children:[e.jsx(Se,{asChild:!0,children:e.jsxs(j,{className:"text-lg p-6 font-semibold",variant:"secondary",children:[e.jsx(Qe,{className:"mr-2 size-6"}),"Actions"]})}),e.jsxs(Re,{className:"w-48",align:"end",children:[e.jsx(Ce,{children:"Admin Actions"}),e.jsxs(we,{children:[e.jsxs(z,{className:"text-md font-medium",onSelect:()=>a("new-policy"),children:[e.jsx(We,{className:"mr-2 size-4"}),"New Policy"]}),e.jsxs(z,{className:"text-md font-medium",onSelect:()=>a("fuel"),children:[e.jsx(Je,{className:"mr-2 size-4"}),"Fuel Contract"]}),e.jsxs(z,{className:"text-md font-medium",onSelect:()=>a("withdraw"),children:[e.jsx($e,{className:"mr-2 size-4"}),"Withdraw Funds"]})]})]})]}),e.jsx(va,{open:t==="new-policy",onOpenChange:s=>{if(!s){a(null);return}a("new-policy")}}),e.jsx(xa,{open:t==="fuel",onOpenChange:s=>{if(!s){a(null);return}a("fuel")}}),e.jsx(ga,{open:t==="withdraw",onOpenChange:s=>{if(!s){a(null);return}a("withdraw")}})]})}const Ea={activated:"all",dataFilter:"all",settled:"all",expired:"all",inStock:"all"},Na={activated:{action:"SET_ACTIVATED",label:"Activated Status",trueValue:"Activated",falseValue:"Deactivated"},settled:{action:"SET_SETTLED",label:"Flight Settled Status",trueValue:"Settled",falseValue:"Not Settled"},dataFilter:{action:"SET_DATA",label:"Flight Delay Data Available",trueValue:"Has Delay Data",falseValue:"No Delay Data"},expired:{action:"SET_EXPIRED",label:"Policy Expiration Status",trueValue:"Expired",falseValue:"Not Expired"},inStock:{action:"SET_INSTOCK",label:"Policy Inventory Status",trueValue:"In Stock",falseValue:"Out of Stock"}};function Ta(t,a){switch(a.type){case"SET_ACTIVATED":return{...t,activated:a.payload};case"SET_DATA":return{...t,dataFilter:a.payload};case"SET_SETTLED":return{...t,settled:a.payload};case"SET_EXPIRED":return{...t,expired:a.payload};case"SET_INSTOCK":return{...t,inStock:a.payload};default:return t}}function Ia(){const[t,a]=y.useState(null),[s,r]=y.useReducer(Ta,Ea),{isInsuranceAdmin:i}=De(),n=ae(),d=ee(),l=C({...se(d)}),p=C(re(n)),{activated:h,dataFilter:c,settled:u,expired:f,inStock:m}=s,x=h==="all"?"all":h==="true",v=u==="all"?"all":u==="true",E=v||c==="all"?"all":c==="true",F=f==="all"?"all":f==="true",P=m==="all"?"all":m==="true",_=C({...te(),enabled:i,select:b=>{const A=b.policies.filter(T=>!(x!=="all"&&T.open!==x||E!=="all"&&!!T.flight.delay!==E||v!=="all"&&T.flight.settled!==v||F!=="all"&&Number(T.expiration)*1e3<Date.now()!==F||P!=="all"&&Number(T.inventory)>0!==P));return A.sort((T,$)=>Number($.id)-Number(T.id)),{policies:A}}});if(!i)return e.jsx(Ie,{to:"/",replace:!0});const D=()=>{r({type:"SET_ACTIVATED",payload:"all"}),r({type:"SET_DATA",payload:"all"}),r({type:"SET_SETTLED",payload:"all"}),r({type:"SET_EXPIRED",payload:"all"}),r({type:"SET_INSTOCK",payload:"all"})},R=l.isSuccess&&p.isSuccess?l.data-p.data:null;return e.jsxs("div",{className:"px-16",children:[e.jsxs("div",{className:"my-8 flex justify-between gap-6",children:[e.jsxs("div",{className:"space-x-4",children:[l.isSuccess&&e.jsxs(k,{className:"text-sm font-semibold",variant:"default",children:["Contract Balance: ",S(BigInt(l.data))," ETH"]}),p.isSuccess&&e.jsxs(k,{className:"text-sm font-semibold",variant:"secondary",children:["Required Reserve: ",S(BigInt(p.data))," ETH"]}),R!==null&&e.jsxs(k,{className:"text-sm font-semibold",variant:"outline",children:["Remaining Reserve: ",S(BigInt(R))," ETH"]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(ja,{dialogState:t,setDialogState:a}),e.jsx(ba,{filterState:s,dispatch:r,resetFilter:D,dialogState:t,setDialogState:a})]})]}),!_.data||_.data.policies.length===0?e.jsxs(Oe,{children:[e.jsxs(Le,{children:[e.jsx(He,{variant:"icon",children:e.jsx(Ve,{className:"size-16 text-muted-foreground"})}),e.jsx(Ge,{children:"No Insurance Policy Records Found"}),e.jsx(Be,{children:"No insurance policy records match the current filters."})]}),e.jsxs(Ye,{children:[e.jsx(j,{variant:"link",onClick:()=>{a("filter")},children:"Edit Policy Filters"}),e.jsx(j,{variant:"link",onClick:()=>{a("new-policy")},children:"Create New Policy"})]})]}):e.jsx("div",{className:"flex flex-wrap gap-6",children:_.data.policies.map(b=>e.jsx(Me,{policy:b,isAdmin:!0},b.id))})]})}function ba({filterState:t,dispatch:a,resetFilter:s,dialogState:r,setDialogState:i}){return e.jsxs(O,{open:r==="filter",onOpenChange:n=>{if(!n){i(null);return}i("filter")},children:[e.jsx(Fe,{asChild:!0,children:e.jsxs(j,{className:"text-lg p-6 font-semibold",variant:"outline",children:[e.jsx(aa,{className:"mr-2 size-6"}),"Edit Filters"]})}),e.jsxs(L,{className:"sm:max-w-[425px]",children:[e.jsxs(H,{children:[e.jsx(V,{children:"Edit Policy Filters"}),e.jsx(G,{asChild:!0,children:e.jsx("div",{className:"space-y-4 mt-4",children:Object.entries(Na).map(([n,{action:d,label:l,trueValue:p,falseValue:h}])=>e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[" ",l]}),e.jsx(fe,{value:n==="dataFilter"&&t.settled!=="false"?"true":t[n],onValueChange:c=>{a({type:d,payload:c})},disabled:n==="dataFilter"&&t.settled!=="false",className:"flex  gap-2",children:["all","true","false"].map(c=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{value:c,id:`${n}-${c}`}),e.jsx(g,{htmlFor:`${n}-${c}`,children:c==="all"?"All":c==="true"?p:h})]},`${n}-${c}`))})]},n))})})]}),e.jsxs(B,{children:[e.jsx(j,{variant:"secondary",onClick:n=>{n.preventDefault(),s()},children:"Reset Filters"}),e.jsx(Y,{asChild:!0,children:e.jsx(j,{variant:"outline",children:"CLose"})})]})]})]})}export{Ia as component};
